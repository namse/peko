import{j as t,L as n,a}from"./Layout-Bgvherv_.js";function d({item:e}){return t.jsx("div",{className:"py-3 border-b",children:t.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[t.jsx(n,{href:`/post/${e.id}`,size:"base",weight:"medium",children:e.title}),t.jsx(n,{href:e.url,size:"sm",muted:!0,popup:!0,children:e.domain})]})})}function l({lastKey:e,hasMore:r}){return t.jsx("div",{className:"py-6 border-b",children:r?t.jsx(n,{href:`/?after=${e}`,children:"Load more"}):t.jsx("p",{className:"text-center text-muted-foreground",children:"End of list"})})}function u(e){if(e.t==="DbErr")return t.jsx(a,{children:t.jsxs("div",{className:"text-center text-red-500",children:["Db Error: ",e.message]})});const r=e.rows.map(s=>({id:s.post.id,title:s.post.title,url:s.post.url,domain:o(s.post.url),author:s.author,deletedAt:s.deletedAt})),i=r.length===10;return t.jsxs(a,{children:[r.map(s=>t.jsx(d,{item:s},s.id)),r.length>0&&t.jsx(l,{lastKey:r[r.length-1].id,hasMore:i})]})}function o(e){try{return new URL(e).hostname}catch{return e}}export{u as default};
